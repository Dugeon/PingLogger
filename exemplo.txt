import subprocess

google = 'www.google.com' 
ptSO = '151.101.129.69'
microsoft = '184.26.42.115'


def ping(site):
   #Abre um subprocesso ping usando a sintaxe Linux
   p = subprocess.run(['ping', '-c', '4', site], stdout=subprocess.PIPE)
   #Abre um subprocesso ping usando a sintaxe Windows
   #p = subprocess.run(['ping', '/n', '4', site], stdout=subprocess.PIPE)

   stdout = p.stdout #captura stdout

   #Retorna o texto do terminal se hover erro retorna vazio
   return stdout.decode('UTF-8') if p.returncode == 0 else ''
   #No windows 
   #return stdout.decode('ISO-8859-1') if p.returncode == 0 else ''

print('aguarde...')
# Salva o retorno de alguns pings em uma lista
pings = [ping(google), ping(ptSO), ping(microsoft)]

print('salvando no arquivo...')
# Salva o retorno de alguns pings em um arquivo
with open("pings.txt", "w") as arquivo:
  for p in pings: 
    arquivo.write(f'{p}\n')

print('despejando no console...')
#imprime a lista contento a sa√≠da no terminal de alguns pings
for p in pings: print(f'{p}\n')